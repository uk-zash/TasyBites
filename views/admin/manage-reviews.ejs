<!DOCTYPE html>
<html lang="en">
  <head>
    <!-- Existing meta tags -->
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta
      name="description"
      content="New Tasty Bites - Delicious food in Mahul, India"
    />
    <meta
      name="keywords"
      content="New Tasty Bites, fast food, burgers, pizza, Mahul, food delivery"
    />
    <!-- Open Graph / Facebook -->
    <meta property="og:title" content="<%= title %> | New Tasty Bites" />
    <meta
      property="og:description"
      content="Enjoy the best food at New Tasty Bites."
    />
    <meta property="og:image" content="/images/og-image.jpg" />
    <!-- Replace with actual image path -->
    <!-- Twitter -->
    <meta name="twitter:title" content="<%= title %> | New Tasty Bites" />
    <meta
      name="twitter:description"
      content="Enjoy the best food at New Tasty Bites."
    />
    <meta name="twitter:image" content="/images/og-image.jpg" />
    <!-- Replace with actual image path -->

    <meta charset="UTF-8" />
    <title><%= title %> - New Tasty Bites</title>
    <link rel="stylesheet" href="/css/styles.css">
    <link rel="stylesheet" href="/css/nav.css">
  </head>
  <body>
<%- include('../partials/_navbar') %>

<div class="container mx-auto px-4 mt-20">

<div class="container mx-auto px-4 mt-16">
  <h1 class="text-2xl font-semibold mb-6">Manage Reviews</h1>

  <!-- Display success or error messages -->
  <% if (success_messages && success_messages.length > 0) { %>
    <% success_messages.forEach(function(message) { %>
      <div class="bg-green-100 border-l-4 border-green-500 text-green-700 p-4 mb-4">
        <p><%= message %></p>
      </div>
    <% }); %>
  <% } %>
  <% if (error_messages && error_messages.length > 0) { %>
    <% error_messages.forEach(function(message) { %>
      <div class="bg-red-100 border-l-4 border-red-500 text-red-700 p-4 mb-4">
        <p><%= message %></p>
      </div>
    <% }); %>
  <% } %>

  <% if (reviews && reviews.length > 0) { %>
    <% reviews.forEach(function(review) { %>
      <div class="border rounded p-4 mb-4">
        <p class="font-semibold"><%= review.name %> (Product ID: <%= review.productId %>)</p>
        <p class="text-sm text-gray-600"><%= new Date(review.timestamp.toDate()).toLocaleDateString() %></p>
        <p class="mt-2"><%= review.reviewText %></p>
        <div class="mt-4">
          <form action="/admin/reviews/approve/<%= review.id %>" method="POST" class="inline">
            <button type="submit" class="bg-green-500 text-white py-1 px-3 rounded hover:bg-green-600">
              Approve
            </button>
          </form>
          <form action="/admin/reviews/delete/<%= review.id %>" method="POST" class="inline ml-2">
            <button type="submit" class="bg-red-500 text-white py-1 px-3 rounded hover:bg-red-600" onclick="return confirm('Are you sure you want to delete this review?');">
              Delete
            </button>
          </form>
        </div>
      </div>
    <% }); %>
  <% } else { %>
    <p>No reviews awaiting approval.</p>
  <% } %>
</div>

</div>

<%- include("../partials/_footer") %>

<script>
  // Get elements
  const hamburgerMenuButton = document.getElementById("hamburger-menu");
  const mobileMenu = document.getElementById("mobile-menu");

  // Toggle menu visibility on hamburger click
  hamburgerMenuButton.addEventListener("click", function() {
    mobileMenu.classList.toggle("open"); // Show or hide the mobile menu
    hamburgerMenuButton.classList.toggle("active"); // Toggle hamburger to cross and vice versa
  });
</script>






</body>
</html>