<!DOCTYPE html>
<html lang="en">
  <head>
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="description" content="New Tasty Bites - Delicious food in Mahul, India" />
    <meta name="keywords" content="New Tasty Bites, fast food, burgers, pizza, Mahul, food delivery" />
    <meta property="og:title" content="<%= title %> | New Tasty Bites" />
    <meta property="og:description" content="Enjoy the best food at New Tasty Bites." />
    <meta property="og:image" content="/images/og-image.jpg" />
    <meta charset="UTF-8" />
    <title><%= title %> - New Tasty Bites</title>
    <link rel="stylesheet" href="/css/styles.css">
    <link rel="stylesheet" href="/css/nav.css">
    <link rel="stylesheet" href="/css/card.css">
    <link rel="stylesheet" href="/css/menu.css">
    <style>
      /* Banner Container */
      .banner {
        height: 200px;
        position: relative;
        width: 100%;
        overflow: hidden;
      }

      /* For image banners */
      .banner img {
        object-fit: cover;
        width: 100%;
        height: 50%;
        object-position: center;
      }

      /* For text banners */
      .banner-text {
        display: flex;
        justify-content: center;
        align-items: center;
        height: 100%;
        background-color: #fbbf24; /* Light yellow background */
        text-align: center;
        padding: 10px;
        font-size: 1.5rem; /* Default font size */
        font-weight: 700;
        color: #333;
        position: relative;
        flex-direction: row; /* Align text horizontally */
        white-space: nowrap; /* Prevent text from wrapping */
        overflow: hidden; /* Ensure content doesn't overflow */
        text-overflow: ellipsis; /* Add ellipsis for overflow text */
      }

      /* Custom Style for Percentages */
      .highlight-percent {
  color: #f56565; /* Red color for percentage */
  font-weight: bold;
  font-style: italic; /* Make percentage text italic */
  text-decoration: underline; /* Underline percentage */
}

/* Custom Style for Rupee Amounts */
.highlight-rupee {
  color: #48bb78; /* Green color for rupee amounts */
  font-weight: bold;
  font-style: normal; /* You can make rupee values normal or bold */
  text-decoration: none; /* Optional: Remove any underline from rupee values */
}

      /* Call-to-Action Button */
      .cta-button {
        background-color: #ffffff;
        color: #fbbf24;
        padding: 10px 20px;
        font-size: 1.2rem;
        font-weight: bold;
        text-transform: uppercase;
        border: none;
        border-radius: 5px;
        cursor: pointer;
        margin-top: 15px;
        transition: background-color 0.3s;
      }

      .cta-button:hover {
        background-color: #fbbf24;
        color: #ffffff;
      }
      /* Responsive Text for Small Screens */
      @media (max-width: 768px) {
        .banner-text {
          font-size: 1.25rem;
          white-space: nowrap; /* Smaller font on mobile */
        }

        .banner {
          height: auto;
        }
      }

      @media (max-width: 480px) {
        .banner-text {
          font-size: 0.95rem; /* Even smaller font size on smaller screens */
        }
      }

      /* In your CSS file */
/* Style the select dropdown */
select {
  appearance: none;
  -webkit-appearance: none;
  -moz-appearance: none;
  background-color: white; /* Background color for the dropdown */
  background-image: url('/images/arrow-down.svg'); /* Custom arrow image */
  background-repeat: no-repeat;
  background-position: right 10px center; /* Position the arrow */
  background-size: 16px;
  padding: 12px 40px 12px 12px; /* Add padding to make room for the arrow */
  border: 1px solid #d1d5db; /* Border color */
  border-radius: 0.375rem; /* Rounded corners */
  font-size: 1rem;
  color: #333; /* Text color */
  width: 100%; /* Make the dropdown full-width */
  transition: all 0.3s ease; /* Smooth transition on hover/focus */
}

/* Hover and Focus styles */
select:hover,
select:focus {
  border-color: #4CAF50; /* Border color on hover/focus */
  outline: none; /* Remove default outline on focus */
}

/* Styling for the dropdown arrow (customize if you have your own icon) */
select::-ms-expand {
  display: none; /* Remove default arrow on IE */
}

/* For smaller screens */
@media (max-width: 768px) {
  select {
    font-size: 0.9rem; /* Slightly smaller font size on smaller screens */
    padding: 10px 35px 10px 10px; /* Adjust padding for smaller screens */
  }
}

    </style>
  </head>
  <body>
    <%- include('../partials/_navbar') %>
    <%- include('../partials/_flash_messages') %>


    <div class="mx-auto px-1 md:px-4 mt-20 md:mt-20">

     
    
    <!-- Promotional Banner -->
    <% if (bannerImageURL && bannerImageURL !== '') { %>
      <div class="banner">
        <img src="<%= bannerImageURL %>" alt="Promotional Banner" />
      </div>
    <% } else if (bannerContent && bannerContent !== '') { %>
      <div class="banner">
        <div class="banner-text">
          <p><%= bannerContent %></p>
        </div>
      </div>
    <% } else { %>
      <div class="mt-16"></div>
    <% } %>

    <div class="container mx-auto mt-6 px-4">
      <form action="/menu" method="GET" class="mb-4">
        <label for="category" class="block text-gray-700 font-semibold mb-2">Filter by Category:</label>
        <select name="category" id="category" class="w-full md:w-1/3 border border-gray-300 rounded px-3 py-2" onchange="this.form.submit()">
          <option value="" <%= (!selectedCategory || selectedCategory === '') ? 'selected' : '' %>>All Categories</option>
          <% categories.forEach(function(category) { %>
            <option value="<%= category %>" <%= (selectedCategory === category) ? 'selected' : '' %>><%= category %></option>
          <% }); %>
        </select>
      </form>
    </div>
    

      <!-- Popular Items Section -->
      <section class="container mt-12 mx-auto px-1 lg:px-4 ">
        <h2 class="text-2xl font-semibold mb-4 text-center">Popular Items</h2>
        <% if (popularItems && popularItems.length > 0) { %>
          <div class="grid grid-cols-2 md:grid-cols-3 gap-6">
            <% popularItems.forEach(function(item) { %>
              <div class="item-card">
                <a href="/product/<%= item.id %>">
                  <img src="<%= item.imageURL %>" alt="<%= item.name %>" class="item-image">
                </a>
                <div class="item-info">
                  <h3 class="item-name"><%= item.name %></h3>
                  <p class="item-description"><%= item.description %></p>
                  <p class="item-price">₹<%= item.price %></p>
                  <form action="/add-to-cart" method="POST" class="item-form">
                    <input type="hidden" name="id" value="<%= item.id %>">
                    <button type="submit" class="add-to-cart-button">
                      Add to Cart
                    </button>
                  </form>
                </div>
              </div>
            <% }); %>
          </div>
        <% } else { %>
          <p>No popular items available at the moment.</p>
        <% } %>
      </section>

      <!-- Most Viewed Items Section -->
      <section class="container mx-auto px-1 lg:px-4 mt-12">
        <h2 class="text-2xl font-semibold mb-4 text-center">Most Viewed Items</h2>
        <% if (mostViewedItems && mostViewedItems.length > 0) { %>
          <div class="grid grid-cols-1 md:grid-cols-3 gap-6">
            <% mostViewedItems.forEach(function(item) { %>
              <div class="item-card">
                <a href="/product/<%= item.id %>">
                  <img src="<%= item.imageURL %>" alt="<%= item.name %>" class="item-image">
                </a>
                <div class="item-info">
                  <h3 class="item-name"><%= item.name %></h3>
                  <p class="item-description"><%= item.description %></p>
                  <p class="item-price">₹<%= item.price %></p>
                  <form action="/add-to-cart" method="POST" class="item-form">
                    <input type="hidden" name="id" value="<%= item.id %>">
                    <button type="submit" class="add-to-cart-button">
                      Add to Cart
                    </button>
                  </form>
                </div>
              </div>
            <% }); %>
          </div>
        <% } else { %>
          <p>No items available at the moment.</p>
        <% } %>
      </section>

    </div>

    <%- include("../partials/_footer") %>

    <script>
      // Get elements
      const hamburgerMenuButton = document.getElementById("hamburger-menu");
      const mobileMenu = document.getElementById("mobile-menu");

      // Toggle menu visibility on hamburger click
      hamburgerMenuButton.addEventListener("click", function() {
        mobileMenu.classList.toggle("open"); // Show or hide the mobile menu
        hamburgerMenuButton.classList.toggle("active"); // Toggle hamburger to cross and vice versa
      });
    </script>
  </body>
</html>
